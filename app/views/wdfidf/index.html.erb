<% provide(:title, 'WDF*IDF Aanalysis') %>
<% @body_id = "wdf-idf" %>
  <div class="row">    
        <div class="col-lg-12">
              <h1 class="page-header">WDF*IDF-Analysis</h1>
        </div>                       
  </div>
  <div class="row">    
            <div class="col-md-6">
                  <%= form_tag do %>
                    <%= text_field_tag(:keyword, nil, :placeholder => "Enter your keyword") %>
                    <%= submit_tag("Analyze", class:'btn btn-success') %>
                  <% end %>
            </div>  
            <% if @view %> 
            <div class="col-md-6">
                  <%= form_tag do %>
                    <%= text_field_tag(:own_url, nil, :placeholder => "Enter your URL") %>
                    <%= submit_tag("Analyze", class:'btn btn-success') %>
                  <% end %>
            </div> 
             <% end %>                   
   </div>
 <br />
    <% if @view %>
    
    
   <div class="row">  
        <div class="col-lg-12">
              <div class="panel panel-default">
                         <div class="panel-heading" name="top-ten-results" id="top-ten-results">
                             Top-Ten Results
                         </div>
                     
                         <div class="panel-body">
                             <div class="table-responsive">
                                 <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                 
                                       <thead>
                                        <tr>
                                          <th>P</th>
                                          <th>URL</th>
                                          <th>URL-Host</th>
                                          <th>Words</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <% @view.each_with_index do |serp, index| %>
                                        <tr>
                                          <td><%= index+1 %></td>
                                          <td><%= serp[:url] %></td>
                                          <td><%= serp[:url_host]  %></td>
                                          <td><%= serp[:count] %></td>                                      
                                        </tr>
                                        <% end %>
                                        </tbody>
                                      </table>
                                    </div>
                            </div>
                                          
                    </div>
                      
           </div>
     </div>
     
     <div class="row">  
          <div class="col-lg-12">
                <div class="panel panel-default">
                           <div class="panel-heading" name="top-ten-meta" id="top-ten-meta">
                               Meta-Tags Top-Ten
                           </div>
                     
                           <div class="panel-body">
                               <div class="table-responsive">
                                   <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                 
                                         <thead>
                                          <tr>
                                            <th>URL</th>
                                            <th>Description</th>
                                            <th>Title</th>
                                          </tr>
                                          </thead>
                                          <tbody>
                                          <% @view.each_with_index do |serp, index| %>
                                          <tr>
                                            <td><%= serp[:url] %></td>
                                            <td><%= serp[:description] %> (<%= serp[:description_count] %>)</td>
                                            <td><%= serp[:title] %> (<%= serp[:title_count] %>)</td>  
                                                                         
                                          </tr>
                                          <% end %>
                                          </tbody>
                                        </table>
                                      </div>
                              </div>
                                          
                      </div>
                      
             </div>
       </div>
       
       <div class="row">  
            <div class="col-lg-12">
                  <div class="panel panel-default">
                             <div class="panel-heading">
                                 WDF*IDF-Diagram Overview
                             </div>
                     
                             <div class="panel-body">
                                 
                                </div>
                           
                             
                        </div>
                      
               </div>
         </div>
       
     
      <% @view.each do |serp| %>

     <div class="row">  
          <div class="col-lg-12">
                <div class="panel panel-default">
                           <div class="panel-heading">
                               Result of <%= serp[:url] %>
                           </div>
                     
                           <div class="panel-body">
                               <div class="table-responsive">
                                   <table class="table table-striped table-bordered table-hover class='datatable'" id="dataTables-example">
                                 
                                         <thead>
                                          <tr>
                                            <th>Keyword</th>
                                            <th>Amount</th>
                                            <th>WDF</th>
                                            <th>WDF*IDF</th>
                                          </tr>
                                          </thead>

                                            <% serp[:term].length.times do |i|%>
                                            
                                          <tr>
                                                <td><%= serp[:term][i]%></td>
                                                <td><%= serp[:amount][i] %></td>
                                                <td><%= serp[:wdf][i]%></td>
                                               
                                       
                                          </tr>
                                           <% end %>
                  
                                          </tbody>
                                        </table>
                                        
                                      </div>
                              </div>
                           
                             
                      </div>
                      
             </div>
       </div>
       <div class="row">  
            <div class="col-lg-12">
                  <div class="panel panel-default">
                             <div class="panel-heading">
                                 WDF*IDF-Diagram of <%= serp[:url] %>
                             </div>
                     
                             <div class="panel-body">
                                <div id="graph" style="height: 500px;"></div>
                                
                                </div>
                           
                             
                        </div>
                      
               </div>
         </div>
       <% end %>
       
     
        
  <% end %>   